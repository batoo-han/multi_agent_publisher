# Multi-Agent Telegram Publisher ü§ñüì¨

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π –≤ Telegram-–∫–∞–Ω–∞–ª–µ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ–∫—Å—Ç–∞ –∏ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ OpenAI, —Ñ–∞–∫—Ç—á–µ–∫–∏–Ω–≥–æ–º, —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞.

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ  
1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)  
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)  
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)  
4. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)  
5. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)  
6. [–ó–∞–ø—É—Å–∫](#–∑–∞–ø—É—Å–∫)  
7. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)  
8. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)  
9. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-–æ–∫—Ä—É–∂–µ–Ω–∏—é)  
10. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)  
11. [–°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ](#—Å–æ–≤–µ—Ç—ã-–ø–æ-–æ—Ç–ª–∞–¥–∫–µ)  
12. [–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –∏ –≤–∫–ª–∞–¥](#–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è-–∏-–≤–∫–ª–∞–¥)  
13. [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)  

---

## üì¶ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞  
–≠—Ç–æ—Ç –±–æ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∏–¥–µ–∏ –∏–∑ Google Sheets, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–µ —á–µ—Ä–Ω–æ–≤–∏–∫ Telegram-–ø–æ—Å—Ç–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —á–µ—Ä–µ–∑ ChatGPT, —Å–æ–∑–¥–∞—ë—Ç –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ DALL¬∑E, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å—ë –æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –≤ –∫–∞–Ω–∞–ª, –æ—Ç–º–µ—á–∞–µ—Ç –∏–¥–µ—é –∫–∞–∫ ¬´–≤—ã–ø–æ–ª–Ω–µ–Ω–æ¬ª –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ø–∞–º—è—Ç—å. –ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–æ—Ç —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞–Ω–∞–ª–∞ –æ –¥–µ—Ç–∞–ª—è—Ö –ø–æ—Å—Ç–∞.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏  
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞** –ø–æ —à–∞–±–ª–æ–Ω—É –∏–∑ –∏–¥–µ–π –≤ Google Sheets  
- **–§–∞–∫—Ç—á–µ–∫–∏–Ω–≥** –∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI + SerpAPI  
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏** (–º–æ–¥–µ–ª—å DALL¬∑E 3 –∏–ª–∏ DALL¬∑E 2)  
- **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –µ–¥–∏–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º**: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–∞—Ä—Ç–∏–Ω–∫–∞, —Ç–µ–∫—Å—Ç  
- **–ò—Å—Ç–æ—Ä–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π** –≤ Chroma (vector store) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö —Ç–µ–º  
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞** –∫–∞–Ω–∞–ª–∞ —Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏  
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** (APScheduler + pytz) –¥–ª—è –≥–∏–±–∫–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è  

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏  
- Python 3.10+  
- langchain-openai  
- OpenAI API  
- Google Sheets API  
- ChromaDB  
- python-telegram-bot  
- APScheduler  
- pytz  
- PyYAML, gspread, oauth2client, SerpAPI  

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:  
   ```bash
   git clone https://github.com/<your-username>/multi-agent-publisher.git
   cd multi-agent-publisher
   ```
2. –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:  
   ```bash
   python -m venv .venv
   source .venv/bin/activate    # Linux/macOS
   .venv\Scripts\activate     # Windows PowerShell
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:  
   ```bash
   pip install -r requirements.txt
   ```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä `config.example.yaml` –≤ `config.yaml`.
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è –≤ `config.yaml`:

   ```yaml
   openai:
     api_key: "<–≤–∞—à OpenAI API –∫–ª—é—á>"

   google_sheets:
     credentials_json: "path/to/credentials.json"
     sheet_id: "<Google Sheet ID>"
     worksheet_name: "work"

   serpapi:
     api_key: "<–≤–∞—à SerpAPI –∫–ª—é—á>"

   telegram:
     token: "<–±–æ—Ç-—Ç–æ–∫–µ–Ω>"
     channel_chat_id: -1001234567890
     channel_username: "my_channel"
     owner_chat_id: 123456789

   memory:
     persist_directory: "./chroma_db"
     collection_name: "publications"

   scheduling:
     timezone: "Europe/Moscow"
     jobs:
       - cron: "0 9 * * *"               # –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 09:00
       - cron: "30 18 * * mon,wed,fri"   # –ø–Ω/—Å—Ä/–ø—Ç –≤ 18:30
   ```
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∫ `credentials_json` –¥–æ—Å—Ç—É–ø–µ–Ω –±–æ—Ç—É.

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

```bash
python main.py
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îú‚îÄ‚îÄ telegram_tool.py
‚îÇ   ‚îú‚îÄ‚îÄ sheets_toolkit.py
‚îÇ   ‚îú‚îÄ‚îÄ fact_checker.py
‚îÇ   ‚îî‚îÄ‚îÄ memory_store.py
‚îú‚îÄ‚îÄ template_prompt.py
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ config.yaml
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∏–¥–µ—é (status = `–æ–∂–∏–¥–∞–Ω–∏–µ`) –≤ Google Sheets.
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç, –æ—Ç–º–µ—Ç–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º –∏ —É–≤–µ–¥–æ–º–∏—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ Google Sheets.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `main.py` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—é.

---

## üîç –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ

- –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏, —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `main.py`.
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π –∏ –ª–∏–º–∏—Ç—ã Telegram (1024 —Å–∏–º–≤–æ–ª–∞).

---

## ü§ù –í–∫–ª–∞–¥

–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –∑–≤—ë–∑–¥–æ—á–∫–∏ –∏ pull-request'—ã!

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© 2025
